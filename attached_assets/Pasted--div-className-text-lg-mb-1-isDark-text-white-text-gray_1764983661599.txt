          <div className={`text-lg mb-1 ${isDark ? 'text-white' : 'text-gray-900'}`}>
              {intake.sodium}
            </div>
            <div className={`text-xs ${
              intake.sodium <= 2300 
                ? isDark ? 'text-green-400' : 'text-green-600'
                : isDark ? 'text-orange-400' : 'text-orange-600'
            }`}>
              {intake.sodium <= 2300 ? 'Within limit' : 'Above limit'}
            </div>
          </div>
          
          {/* Sugar */}
          <div className={`p-3 rounded-xl ${isDark ? 'bg-white/5' : 'bg-black/5'}`}>
            <div className={`text-xs mb-1 ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
              Sugar
            </div>
            <div className={`text-lg mb-1 ${isDark ? 'text-white' : 'text-gray-900'}`}>
              {intake.sugar}g
            </div>
            <div className={`text-xs ${
              intake.sugar <= 50 
                ? isDark ? 'text-green-400' : 'text-green-600'
                : isDark ? 'text-orange-400' : 'text-orange-600'
            }`}>
              {intake.sugar <= 50 ? 'Moderate' : 'High'}
            </div>
          </div>
        </div>
        
        <div className={`mt-3 text-xs ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
          Guidelines: Caffeine &lt;400mg, Sodium &lt;2,300mg, Added sugar &lt;50g
        </div>
      </button>
    </div>
  );
}

// Glucose Monitoring Tab Content
function GlucoseTabContent({ isDark }: { isDark: boolean }) {
  const [timeRange, setTimeRange] = useState<'day' | '7d' | '14d'>('day');
  
  // Mock data for demonstration
  const currentGlucose = 98;
  const glucoseStatus: 'low' | 'normal' | 'high' = currentGlucose < 70 ? 'low' : currentGlucose > 140 ? 'high' : 'normal';
  
  // Time in range data
  const timeInRangeToday = 87; // percentage
  const timeInRange7d = 82; // percentage
  
  // Daily average
  const avgToday = 102;
  const minToday = 72;
  const maxToday = 145;
  
  // Lows and Highs
  const lowsToday = { count: 1, minutes: 23 };
  const highsToday = { count: 2, minutes: 87 };
  
  // Generate mock trend data
  const generateTrendData = (range: 'day' | '7d' | '14d') => {
    const points = range === 'day' ? 24 : range === '7d' ? 168 : 336;
    const data = [];
    for (let i = 0; i < points; i++) {
      const baseValue = 95 + Math.sin(i / 4) * 15;
      const noise = (Math.random() - 0.5) * 20;
      data.push({
        value: Math.max(60, Math.min(180, baseValue + noise)),
        time: i
      });
    }
    return data;
  };
  
  const trendData = generateTrendData(timeRange);
  
  return (
    <div className="space-y-4">
      {/* Hero - Current Glucose */}
      <div className={`backdrop-blur-xl rounded-3xl border p-6 ${
        isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
      }`}>
        <div className="text-center">
          <p className={`text-xs mb-2 ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
            Right Now
          </p>
          <div className="flex items-baseline justify-center gap-2 mb-3">
            <span className={`text-6xl ${
              glucoseStatus === 'low' ? 'text-orange-500' :
              glucoseStatus === 'high' ? 'text-red-500' :
              isDark ? 'text-green-400' : 'text-green-600'
            }`}>
              {currentGlucose}
            </span>
            <span className={`text-xl ${isDark ? 'text-white/40' : 'text-gray-500'}`}>
              mg/dL
            </span>
          </div>
          <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full ${
            glucoseStatus === 'low' ? 'bg-orange-500/20 text-orange-500' :
            glucoseStatus === 'high' ? 'bg-red-500/20 text-red-500' :
            isDark ? 'bg-green-500/20 text-green-400' : 'bg-green-100 text-green-700'
          }`}>
            {glucoseStatus === 'low' && <TrendingDown className="w-4 h-4" />}
            {glucoseStatus === 'high' && <TrendingUp className="w-4 h-4" />}
            {glucoseStatus === 'normal' && <Gauge className="w-4 h-4" />}
            <span className="text-sm font-medium">
              {glucoseStatus === 'low' ? 'Below Range' : 
               glucoseStatus === 'high' ? 'Above Range' : 'In Range'}
            </span>
          </div>
        </div>
      </div>
      
      {/* Time in Range */}
      <div className={`backdrop-blur-xl rounded-3xl border p-5 ${
        isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
      }`}>
        <h3 className={`text-sm mb-4 ${isDark ? 'text-white' : 'text-gray-900'}`}>
          Time in Range
        </h3>
        <div className="grid grid-cols-2 gap-4">
          <div>
            <p className={`text-xs mb-1 ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
              Today
            </p>
            <div className="flex items-baseline gap-1">
              <span className={`text-3xl ${isDark ? 'text-green-400' : 'text-green-600'}`}>
                {timeInRangeToday}
              </span>
              <span className={`text-lg ${isDark ? 'text-white/40' : 'text-gray-500'}`}>
                %
              </span>
            </div>
            <div className={`mt-2 h-2 rounded-full overflow-hidden ${
              isDark ? 'bg-white/10' : 'bg-gray-200'
            }`}>
              <div 
                className="h-full bg-gradient-to-r from-green-400 to-green-500"
                style={{ width: `${timeInRangeToday}%` }}
              />
            </div>
          </div>
          
          <div>
            <p className={`text-xs mb-1 ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
              7 Days
            </p>
            <div className="flex items-baseline gap-1">
              <span className={`text-3xl ${isDark ? 'text-green-400' : 'text-green-600'}`}>
                {timeInRange7d}
              </span>
              <span className={`text-lg ${isDark ? 'text-white/40' : 'text-gray-500'}`}>
                %
              </span>
            </div>
            <div className={`mt-2 h-2 rounded-full overflow-hidden ${
              isDark ? 'bg-white/10' : 'bg-gray-200'
            }`}>
              <div 
                className="h-full bg-gradient-to-r from-green-400 to-green-500"
                style={{ width: `${timeInRange7d}%` }}
              />
            </div>
          </div>
        </div>
      </div>
      
      {/* Daily Average */}
      <div className={`backdrop-blur-xl rounded-3xl border p-5 ${
        isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
      }`}>
        <h3 className={`text-sm mb-4 ${isDark ? 'text-white' : 'text-gray-900'}`}>
          Daily Average
        </h3>
        <div className="flex items-end gap-2 mb-3">
          <span className={`text-4xl ${isDark ? 'text-white' : 'text-gray-900'}`}>
            {avgToday}
          </span>
          <span className={`text-lg mb-1 ${isDark ? 'text-white/40' : 'text-gray-500'}`}>
            mg/dL
          </span>
        </div>
        <div className="flex items-center justify-between">
          <div>
            <p className={`text-xs ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
              Min
            </p>
            <p className={`text-xl ${isDark ? 'text-orange-400' : 'text-orange-600'}`}>
              {minToday}
            </p>
          </div>
          <div className={`flex-1 mx-4 h-1 rounded-full ${
            isDark ? 'bg-white/10' : 'bg-gray-200'
          }`}>
            <div className="h-full bg-gradient-to-r from-orange-400 via-green-400 to-red-400 rounded-full" />
          </div>
          <div>
            <p className={`text-xs ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
              Max
            </p>
            <p className={`text-xl ${isDark ? 'text-red-400' : 'text-red-600'}`}>
              {maxToday}
            </p>
          </div>
        </div>
      </div>
      
      {/* Lows and Highs */}
      <div className="grid grid-cols-2 gap-4">
        {/* Lows */}
        <div className={`backdrop-blur-xl rounded-3xl border p-5 ${
          isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
        }`}>
          <div className="flex items-center gap-2 mb-3">
            <TrendingDown className="w-4 h-4 text-orange-500" />
            <h3 className={`text-sm ${isDark ? 'text-white' : 'text-gray-900'}`}>
              Lows
            </h3>
          </div>
          <div className="mb-3">
            <div className="flex items-baseline gap-1">
              <span className={`text-3xl ${isDark ? 'text-orange-400' : 'text-orange-600'}`}>
                {lowsToday.count}
              </span>
              <span className={`text-sm ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
                events
              </span>
            </div>
          </div>
          <div className={`text-xs ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
            {lowsToday.minutes} mins below range
          </div>
        </div>
        
        {/* Highs */}
        <div className={`backdrop-blur-xl rounded-3xl border p-5 ${
          isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
        }`}>
          <div className="flex items-center gap-2 mb-3">
            <TrendingUp className="w-4 h-4 text-red-500" />
            <h3 className={`text-sm ${isDark ? 'text-white' : 'text-gray-900'}`}>
              Highs
            </h3>
          </div>
          <div className="mb-3">
            <div className="flex items-baseline gap-1">
              <span className={`text-3xl ${isDark ? 'text-red-400' : 'text-red-600'}`}>
                {highsToday.count}
              </span>
              <span className={`text-sm ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
                events
              </span>
            </div>
          </div>
          <div className={`text-xs ${isDark ? 'text-white/50' : 'text-gray-500'}`}>
            {highsToday.minutes} mins above range
          </div>
        </div>
      </div>
      
      {/* Trend Chart */}
      <div className={`backdrop-blur-xl rounded-3xl border p-5 ${
        isDark ? 'bg-white/5 border-white/10' : 'bg-white/60 border-black/10'
      }`}>
        <div className="flex items-center justify-between mb-4">
          <h3 className={`text-sm ${isDark ? 'text-white' : 'text-gray-900'}`}>
            Trend
          </h3>
          <div className="flex gap-2">
            <button
              onClick={() => setTimeRange('day')}
              className={`px-3 py-1 rounded-full text-xs transition-all ${
                timeRange === 'day'
                  ? isDark
                    ? 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30'
                    : 'bg-cyan-100 text-cyan-700 border border-cyan-300'
                  : isDark
                    ? 'bg-white/5 text-white/50 border border-white/10'
                    : 'bg-white/40 text-gray-600 border border-black/10'
              }`}
            >
              Day
            </button>
            <button
              onClick={() => setTimeRange('7d')}
              className={`px-3 py-1 rounded-full text-xs transition-all ${
                timeRange === '7d'
                  ? isDark
                    ? 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30'
                    : 'bg-cyan-100 text-cyan-700 border border-cyan-300'
                  : isDark
                    ? 'bg-white/5 text-white/50 border border-white/10'
                    : 'bg-white/40 text-gray-600 border border-black/10'
              }`}
            >
              7D
            </button>
            <button
              onClick={() => setTimeRange('14d')}
              className={`px-3 py-1 rounded-full text-xs transition-all ${
                timeRange === '14d'
                  ? isDark
                    ? 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30'
                    : 'bg-cyan-100 text-cyan-700 border border-cyan-300'
                  : isDark
                    ? 'bg-white/5 text-white/50 border border-white/10'
                    : 'bg-white/40 text-gray-600 border border-black/10'
              }`}
            >
              14D
            </button>
          </div>
        </div>
        
        <GlucoseTrendChart 
          data={trendData}
          isDark={isDark}
          timeRange={timeRange}
        />
      </div>
    </div>
  );
}

interface GlucoseTrendChartProps {
  data: Array<{ value: number; time: number }>;
  isDark: boolean;
  timeRange: 'day' | '7d' | '14d';
}

function GlucoseTrendChart({ data, isDark, timeRange }: GlucoseTrendChartProps) {
  const chartWidth = 320;
  const chartHeight = 160;
  const padding = { top: 20, bottom: 30, left: 0, right: 0 };
  const innerHeight = chartHeight - padding.top - padding.bottom;
  
  const minValue = 60;
  const maxValue = 180;
  const valueRange = maxValue - minValue;
  
  // Target range
  const targetMin = 70;
  const targetMax = 140;
  
  const points = data.map((d, index) => {
    const x = (index / Math.max(data.length - 1, 1)) * chartWidth;
    const y = padding.top + (1 - (d.value - minValue) / valueRange) * innerHeight;
    const inRange = d.value >= targetMin && d.value <= targetMax;
    return { x, y, value: d.value, inRange };
  });
  
  const targetMinY = padding.top + (1 - (targetMin - minValue) / valueRange) * innerHeight;
  const targetMaxY = padding.top + (1 - (targetMax - minValue) / valueRange) * innerHeight;
  
  return (
    <div className="w-full">
      <svg width="100%" height={chartHeight} viewBox={`0 0 ${chartWidth} ${chartHeight}`} className="overflow-visible">
        <defs>
          <linearGradient id="glucose-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stopColor="#10b981" stopOpacity="0.2" />
            <stop offset="100%" stopColor="#10b981" stopOpacity="0.05" />
          </linearGradient>
        </defs>
        
        {/* Target range band */}
        <rect
          x={0}
          y={targetMaxY}
          width={chartWidth}
          height={targetMinY - targetMaxY}
          fill="url(#glucose-gradient)"
          rx={4}
        />
        
        {/* Target range lines */}
        <line
          x1={0}
          y1={targetMaxY}
          x2={chartWidth}
          y2={targetMaxY}
          stroke="#10b981"
          strokeWidth={1}
          strokeDasharray="4 4"
          opacity={0.4}
        />
        <line
          x1={0}
          y1={targetMinY}
          x2={chartWidth}
          y2={targetMinY}
          stroke="#10b981"
          strokeWidth={1}
          strokeDasharray="4 4"
          opacity={0.4}
        />
        
        {/* Gradient fill under curve */}
        <defs>
          <linearGradient id="area-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stopColor="#06b6d4" stopOpacity="0.3" />
            <stop offset="100%" stopColor="#06b6d4" stopOpacity="0.05" />
          </linearGradient>
        </defs>
        
        <path
          d={`
            M 0 ${chartHeight - padding.bottom}
            L ${points.map(p => `${p.x} ${p.y}`).join(' L ')}
            L ${chartWidth} ${chartHeight - padding.bottom}
            Z
          `}
          fill="url(#area-gradient)"
        />
        
        {/* Line */}
        <path
          d={`M ${points.map(p => `${p.x} ${p.y}`).join(' L ')}`}
          fill="none"
          stroke="#06b6d4"
          strokeWidth={2}
          strokeLinecap="round"
          strokeLinejoin="round"
        />
        
        {/* Y-axis labels */}
        <text
          x={chartWidth - 5}
          y={padding.top - 5}
          className={`text-[10px] ${isDark ? 'fill-white/40' : 'fill-gray-500'}`}
          textAnchor="end"
        >
          {maxValue}
        </text>
        <text
          x={chartWidth - 5}
          y={chartHeight - padding.bottom + 12}
          className={`text-[10px] ${isDark ? 'fill-white/40' : 'fill-gray-500'}`}
          textAnchor="end"
        >
          {minValue}
        </text>
      </svg>
      
      {/* Legend */}
      <div className="flex items-center justify-center gap-4 mt-4 text-xs">
        <div className="flex items-center gap-1.5">
          <div className="w-3 h-3 rounded-full bg-green-500"></div>
          <span className={isDark ? 'text-white/50' : 'text-gray-500'}>
            Target: {targetMin}-{targetMax} mg/dL
          </span>
        </div>
      </div>
    </div>
  );
}